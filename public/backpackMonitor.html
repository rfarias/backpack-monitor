<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Backpack Monitor</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="monitor.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns"></script>
</head>

<body>
  <!-- ======== CABEÃ‡ALHO ======== -->
  <header>
    <div class="logo-area">
      <img src="https://backpack.exchange/favicon-32x32.png" class="logo" alt="Backpack logo" />
      <h1><strong>Backpack Monitor</strong></h1>
    </div>

    <nav id="header-menu">
      <button id="tab-perp" class="active" onclick="switchTab('perp')">Futures</button>
      <button id="tab-spot" onclick="switchTab('spot')">Spot</button>
      <button id="tab-transfer" onclick="switchTab('transfer')">Deposit / Withdraw</button>
      <button id="tab-volume" onclick="switchTab('volume')">Volume</button>
    </nav>

    <a href="https://backpack.exchange/join/rfarias" target="_blank">
      <button class="join-btn">ðŸš€ Entrar na Backpack</button>
    </a>
  </header>

  <!-- ======== VOLUME TOPO ======== -->
  <div id="volumeTopText">Volume 24h â€” carregando...</div>

  <!-- ======== CONTEÃšDO PRINCIPAL ======== -->
  <main>
    <!-- === INFO-BOX COM LEGENDA === -->
    <div class="info-box" id="info-box">
      <p><strong>Timeframe:</strong>
        <select id="timeframeSelect" onchange="changeTimeframe(this.value)">
          <option value="3m">3 minutos</option>
          <option value="5m">5 minutos</option>
          <option value="15m">15 minutos</option>
          <option value="30m">30 minutos</option>
          <option value="1h">1 hora</option>
          <option value="4h">4 horas</option>
          <option value="12h">12 horas</option>
          <option value="1d">1 dia</option>
        </select>
      </p>

      <p><strong>Como interpretar:</strong></p>
      <ul>
        <li><strong>ATR%</strong>: mede volatilidade â€”
          <span class="atr-low" style="color:#3cf;">â‰¤0.3%</span>,
          <span class="atr-mid" style="color:#fc3;">0.3â€“0.7%</span>,
          <span class="atr-high" style="color:#f66;">â‰¥0.7%</span>.
        </li>
        <li><strong>RSI</strong>: mede forÃ§a do mercado â€”
          <span style="color:#6f6;">â‰¤30</span> <em>(sobrevendido)</em>,
          <span style="color:#f66;">â‰¥70</span> <em>(sobrecomprado)</em>.
        </li>
        <li><strong>BB Width</strong>: mede amplitude das Bandas de Bollinger â€”
          <span style="color:#3cf;">&lt;0.01</span> <em>(mercado calmo)</em>,
          <span style="color:#fc3;">0.01â€“0.029</span> <em>(mercado moderado)</em>,
          <span style="color:#f66;">â‰¥0.03</span> <em>(mercado volÃ¡til)</em>.
        </li>
        <li><strong>DecisÃ£o:</strong>
          <span style="color:#6f6;">Long</span>,
          <span style="color:#f99;">Short</span>,
          <span style="color:#6cf;">Lateral</span>,
          <span style="color:#ccc;">Neutro</span>.
        </li>
      </ul>
    </div>

    <!-- === FILTROS === -->
    <div class="filters" id="filters">
      <button onclick="setFilter('all')" id="btn-all" class="active">Todos</button>
      <button onclick="setFilter('long')" id="btn-long">Long</button>
      <button onclick="setFilter('short')" id="btn-short">Short</button>
      <button onclick="setFilter('lateral')" id="btn-lateral">Lateral</button>
      <button onclick="setFilter('neutral')" id="btn-neutral">Neutro</button>
      <button onclick="toggleLiquidity()" id="btn-liq">Ocultar sem liquidez</button>
      <button onclick="toggleNeutros()" id="btn-neutro">Ocultar neutros</button>
      <button onclick="manualRefresh()">ðŸ”„ Atualizar agora</button>
      <span id="lastUpdate"></span>
    </div>

    <!-- === TABELA DE DADOS === -->
    <table id="tbl">
      <thead id="tbl-head"></thead>
      <tbody></tbody>
    </table>

    <!-- === GRÃFICO DE VOLUME === -->
    <div id="volumeContainer" class="tab-content" style="display:none;"></div>
  </main>

  <!-- ======== RODAPÃ‰ ======== -->
  <footer>
    <p>Â© 2025 Backpack Monitor â€” desenvolvido por <strong>RomÃ¡rio Farias</strong></p>
    <div class="socials">
      <!-- X / Twitter -->
      <a href="https://x.com/romariofariasrf" target="_blank" title="X">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path
            d="M18.244 2.25h3.308l-7.227 8.26L22 21.75h-6.406l-5.01-6.545-5.742 6.545H1.532l7.73-8.81L2 2.25h6.594l4.555 6.037L18.244 2.25z" />
        </svg>
      </a>
  
      <!-- Farcaster (Ã­cone oficial de SimpleIcons CDN) -->
      <a href="https://farcaster.xyz/romariofariasrfs" target="_blank" title="Farcaster">
        <img src="https://cdn.simpleicons.org/farcaster/E5E7EB" alt="Farcaster" class="social-svg">
      </a>

      <!-- GitHub -->
      <a href="https://github.com/rfarias" target="_blank" title="GitHub">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0C5.372 0 0 5.372 0 12c0 5.304 3.438 9.799 8.207 
          11.387.6.113.793-.261.793-.58 0-.286-.01-1.04-.016-2.04-3.338.726-4.042-1.61-4.042-1.61-.546-1.387-1.334-1.756-1.334-1.756-1.09-.744.083-.729.083-.729 
          1.205.085 1.84 1.238 1.84 1.238 1.07 1.834 2.809 1.304 
          3.495.998.108-.776.418-1.305.762-1.606-2.665-.304-5.466-1.334-5.466-5.933 
          0-1.31.469-2.381 1.236-3.221-.124-.304-.535-1.526.117-3.176 
          0 0 1.008-.322 3.301 1.23a11.47 11.47 0 0 1 6.002 0c2.292-1.552 
          3.298-1.23 3.298-1.23.653 1.65.242 2.872.118 3.176.77.84 
          1.234 1.911 1.234 3.221 0 4.61-2.804 5.625-5.475 
          5.922.43.372.823 1.102.823 2.222 0 1.605-.015 2.898-.015 
          3.293 0 .321.191.698.8.579C20.565 21.796 24 17.302 24 
          12 24 5.372 18.627 0 12 0z" />
        </svg>
      </a>
    </div>
  </footer>


  <!-- === SCRIPTS === -->
  <script type="module" src="./monitor.js"></script>
  <script type="module" src="./monitorVolume.js"></script>
</body>
</html>
